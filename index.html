<!DOCTYPE html>
<html lang="pl">
<head>
        <meta charset="utf-8" />
        <title>Pogoda ZG</title>
        <link rel="stylesheet" href="./css/main.css" />
</head>

<body id="index" class="home">

<section id="content" class="body">
    <p align="left">
        <object data="./images/dots.svg"></object>
    </p>
    <br>
    <p>
        <span style="color:rgb(255, 0, 91)">hubow</span>
        <span style="color:rgb(4, 138, 199);">~ </span>
        <span style="color:rgb(255, 0, 91)">$ </span>
        <span>pogoda 'zielona góra'</span>
    </p>
    <p>Data: <span id="today"></span></p>
    <p>Data pomiaru: <span id="time"></span> <span id="date"></span></p>
    <p>Temperatura: <span id="temp"></span>°C</p>
    <p>Ciśnienie: <span id="press"></span> hPa</p>
    <p>Wilgotność: <span id="hum"></span> %</p>
    <p>Wiatr: <span id="wind"></span> km/h</p>
    <p>Temperatura odczuwalna: <span id="apptemp"></span>°C</p>
    <br>
    <br>
    <p>
        <span style="color:rgb(255, 0, 91)">hubow</span>
        <span style="color:rgb(4, 138, 199);">~ </span>
        <span style="color:rgb(255, 0, 91)">$ </span>
    </p>
    <br>
    <script>
        fetch('pogoda.json')
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                appendData(data);
            console.log(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });
        function appendData(data) {
            document.getElementById("temp").innerHTML = data['temp'];
            document.getElementById("press").innerHTML = data['press'];
            document.getElementById("hum").innerHTML = data['hum'];
            document.getElementById("wind").innerHTML = data['wind'];
            document.getElementById("apptemp").innerHTML = data['appTemp'];
            document.getElementById("time").innerHTML = data['time'];
            document.getElementById("date").innerHTML = data['date'];
        }
        const timeElapsed = Date.now();
        const today = (new Date(timeElapsed).toLocaleDateString());
        console.log(today)
        document.getElementById("today").innerHTML = today
    </script>
</section>

</body>
</html>